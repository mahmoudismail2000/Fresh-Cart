"use strict";(self.webpackChunkfresh_cart=self.webpackChunkfresh_cart||[]).push([[787],{6787:(F,u,d)=>{d.r(u),d.d(u,{ChangePasswordComponent:()=>U});var _=d(6814),t=d(95),s=d(4769),m=d(9410),c=d(1120),w=d(2425);function f(e,n){1&e&&(s.TgZ(0,"p"),s._uU(1,"Current Password Required"),s.qZA())}function h(e,n){1&e&&(s.TgZ(0,"p"),s._uU(1,"Current Password Must start With UpperCase Then from 6 to 20 Char"),s.qZA())}function C(e,n){if(1&e&&(s.TgZ(0,"div",19),s.YNc(1,f,2,0,"p",20),s.YNc(2,h,2,0,"p",20),s.qZA()),2&e){const o=s.oxw();let a,r;s.xp6(1),s.Q6J("ngIf",null==(a=o.passwordChangeForm.get("currentPassword"))?null:a.getError("required")),s.xp6(1),s.Q6J("ngIf",null==(r=o.passwordChangeForm.get("currentPassword"))?null:r.getError("pattern"))}}function P(e,n){1&e&&(s.TgZ(0,"p"),s._uU(1,"Password Required"),s.qZA())}function v(e,n){1&e&&(s.TgZ(0,"p"),s._uU(1,"Password Must start With UpperCase Then from 6 to 20 Char"),s.qZA())}function Z(e,n){if(1&e&&(s.TgZ(0,"div",19),s.YNc(1,P,2,0,"p",20),s.YNc(2,v,2,0,"p",20),s.qZA()),2&e){const o=s.oxw();let a,r;s.xp6(1),s.Q6J("ngIf",null==(a=o.passwordChangeForm.get("password"))?null:a.getError("required")),s.xp6(1),s.Q6J("ngIf",null==(r=o.passwordChangeForm.get("password"))?null:r.getError("pattern"))}}function T(e,n){1&e&&(s.TgZ(0,"p"),s._uU(1,"Re-Password Required"),s.qZA())}function A(e,n){1&e&&(s.TgZ(0,"p"),s._uU(1,"Re-Password Not Matched"),s.qZA())}function x(e,n){if(1&e&&(s.TgZ(0,"div",19),s.YNc(1,T,2,0,"p",20),s.YNc(2,A,2,0,"p",20),s.qZA()),2&e){const o=s.oxw();let a,r;s.xp6(1),s.Q6J("ngIf",null==(a=o.passwordChangeForm.get("rePassword"))?null:a.getError("required")),s.xp6(1),s.Q6J("ngIf",null==(r=o.passwordChangeForm.get("rePassword"))?null:r.getError("msgConfirm"))}}function I(e,n){1&e&&s._UZ(0,"i",21)}function E(e,n){if(1&e&&(s.TgZ(0,"div",19),s._uU(1),s.qZA()),2&e){const o=s.oxw();s.xp6(1),s.hij(" ",o.failedMassage," ")}}let U=(()=>{class e{constructor(o,a,r,i){this._AuthService=o,this._FormBuilder=a,this._Router=r,this._ToastrService=i,this.failedMassage="",this.isLoading=!1,this.passwordChangeForm=new t.cw({currentPassword:new t.NI("",[t.kI.required,t.kI.pattern(/^[A-Z][a-z0-9]{6,10}$/)]),password:new t.NI("",[t.kI.required,t.kI.pattern(/^[A-Z][a-z0-9]{6,10}$/)]),rePassword:new t.NI("")},{validators:this.confirmPassword})}userPasswordChange(){this.isLoading=!0,this.passwordChangeForm.valid&&this._AuthService.changePassword(this.passwordChangeForm.value).subscribe({next:o=>{console.log(o),"success"==o.message&&(localStorage.setItem("eToken",o.token),this.passwordChangeForm.reset(),this._Router.navigate(["/home"]),this._ToastrService.success(o.message),this.isLoading=!1)},error:o=>{console.log(o),this.failedMassage=o.error.errors.msg,this.isLoading=!1}})}confirmPassword(o){let a=o.get("password"),r=o.get("rePassword");""==r?.value||null==r?.value?r?.setErrors({required:!0}):r.value!=a?.value&&r.setErrors({msgConfirm:!0})}static#s=this.\u0275fac=function(a){return new(a||e)(s.Y36(m.e),s.Y36(t.qu),s.Y36(c.F0),s.Y36(w._W))};static#e=this.\u0275cmp=s.Xpm({type:e,selectors:[["app-change-password"]],standalone:!0,features:[s.jDz],decls:31,vars:7,consts:[[1,"my-5"],[1,"row","d-flex","justify-content-center","align-items-center"],[1,"col-md-7"],["src","./assets/Operating system upgrade-pana.svg","height","500","alt","Forgot Password",1,"w-100"],[1,"col-md-5","p-4","bg-main-light","shadow","rounded-2","mx-auto"],[1,"fw-bold"],[3,"formGroup","ngSubmit"],["for","currentPassword"],["type","password","id","currentPassword","formControlName","currentPassword",1,"form-control"],["currentPasswordRef",""],["class","alert alert-danger mt-2",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control"],["passwordRef",""],["for","rePassword"],["type","password","id","rePassword","formControlName","rePassword",1,"form-control"],["rePasswordRef",""],[1,"btn-main","w-100","mt-4",3,"disabled"],["class","fas fa-spinner fa-spin my-auto me-3",4,"ngIf"],[1,"alert","alert-danger","mt-2"],[4,"ngIf"],[1,"fas","fa-spinner","fa-spin","my-auto","me-3"]],template:function(a,r){if(1&a&&(s.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div"),s._UZ(4,"img",3),s.qZA()(),s.TgZ(5,"div",4)(6,"h4",5),s._uU(7,"Change Your Password ..?"),s.qZA(),s.TgZ(8,"form",6),s.NdJ("ngSubmit",function(){return r.userPasswordChange()}),s.TgZ(9,"div")(10,"label",7),s._uU(11,"Current Password :"),s.qZA(),s._UZ(12,"input",8,9),s.YNc(14,C,3,2,"div",10),s.qZA(),s.TgZ(15,"div")(16,"label",11),s._uU(17,"Password :"),s.qZA(),s._UZ(18,"input",12,13),s.YNc(20,Z,3,2,"div",10),s.qZA(),s.TgZ(21,"div")(22,"label",14),s._uU(23,"Re-Password :"),s.qZA(),s._UZ(24,"input",15,16),s.YNc(26,x,3,2,"div",10),s.qZA(),s.TgZ(27,"button",17),s.YNc(28,I,1,0,"i",18),s._uU(29," Change Password "),s.qZA(),s.YNc(30,E,2,1,"div",10),s.qZA()()()()),2&a){const i=s.MAs(13),M=s.MAs(19),q=s.MAs(25);let l,g,p;s.xp6(8),s.Q6J("formGroup",r.passwordChangeForm),s.xp6(6),s.Q6J("ngIf",(null==(l=r.passwordChangeForm.get("currentPassword"))?null:l.errors)&&((null==(l=r.passwordChangeForm.get("currentPassword"))?null:l.touched)||i.value.length>0)),s.xp6(6),s.Q6J("ngIf",(null==(g=r.passwordChangeForm.get("password"))?null:g.errors)&&((null==(g=r.passwordChangeForm.get("password"))?null:g.touched)||M.value.length>0)),s.xp6(6),s.Q6J("ngIf",(null==(p=r.passwordChangeForm.get("rePassword"))?null:p.errors)&&((null==(p=r.passwordChangeForm.get("rePassword"))?null:p.touched)||q.value.length>0)),s.xp6(1),s.Q6J("disabled",r.passwordChangeForm.invalid),s.xp6(1),s.Q6J("ngIf",r.isLoading),s.xp6(2),s.Q6J("ngIf",r.failedMassage)}},dependencies:[_.ez,_.O5,t.UX,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u],styles:["p[_ngcontent-%COMP%]{margin-bottom:0!important}label[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:5px}"]})}return e})()}}]);