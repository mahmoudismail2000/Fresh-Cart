"use strict";(self.webpackChunkfresh_cart=self.webpackChunkfresh_cart||[]).push([[932],{6666:(I,g,l)=>{l.r(g),l.d(g,{LoginComponent:()=>L});var m=l(6814),r=l(95),u=l(1120),n=l(4769),d=l(9410);function f(e,a){1&e&&(n.TgZ(0,"p"),n._uU(1,"Email Required"),n.qZA())}function c(e,a){1&e&&(n.TgZ(0,"p"),n._uU(1,"Email InValid"),n.qZA())}function h(e,a){if(1&e&&(n.TgZ(0,"div",14),n.YNc(1,f,2,0,"p",15),n.YNc(2,c,2,0,"p",15),n.qZA()),2&e){const i=n.oxw();let o,t;n.xp6(1),n.Q6J("ngIf",null==(o=i.loginForm.get("email"))?null:o.getError("required")),n.xp6(1),n.Q6J("ngIf",null==(t=i.loginForm.get("email"))?null:t.getError("email"))}}function Z(e,a){1&e&&(n.TgZ(0,"p"),n._uU(1,"Password Required"),n.qZA())}function v(e,a){1&e&&(n.TgZ(0,"p"),n._uU(1,"Password Must start With UpperCase Then from 6 to 20 Char"),n.qZA())}function T(e,a){if(1&e&&(n.TgZ(0,"div",14),n.YNc(1,Z,2,0,"p",15),n.YNc(2,v,2,0,"p",15),n.qZA()),2&e){const i=n.oxw();let o,t;n.xp6(1),n.Q6J("ngIf",null==(o=i.loginForm.get("password"))?null:o.getError("required")),n.xp6(1),n.Q6J("ngIf",null==(t=i.loginForm.get("password"))?null:t.getError("pattern"))}}function C(e,a){1&e&&n._UZ(0,"i",16)}function A(e,a){if(1&e&&(n.TgZ(0,"div",14)(1,"p"),n._uU(2),n.qZA()()),2&e){const i=n.oxw();n.xp6(2),n.Oqu(i.errMsg)}}let L=(()=>{class e{constructor(i,o,t){this._AuthService=i,this._FormBuilder=o,this._Router=t,this.isLoading=!1,this.errMsg="",this.loginForm=this._FormBuilder.group({email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required,r.kI.pattern(/^[A-Z][a-z0-9]{6,10}$/)]]})}handleForm(){this.isLoading=!0,this._AuthService.login(this.loginForm.value).subscribe({next:o=>{this.isLoading=!1,localStorage.setItem("eToken",o.token),this._AuthService.getUserInfo(),this._Router.navigate(["/home"])},error:o=>{this.isLoading=!1,this.errMsg=o.error.message}})}static#n=this.\u0275fac=function(o){return new(o||e)(n.Y36(d.e),n.Y36(r.qu),n.Y36(u.F0))};static#e=this.\u0275cmp=n.Xpm({type:e,selectors:[["app-login"]],standalone:!0,features:[n.jDz],decls:24,vars:6,consts:[[1,"w-75","mx-auto","my-5"],[3,"formGroup","ngSubmit"],["for","email"],["formControlName","email","type","email","id","email",1,"form-control"],["refEmail",""],["class","alert alert-danger",4,"ngIf"],["for","password"],["formControlName","password","type","password","id","password",1,"form-control"],["refPassword",""],[1,"btn-main","d-flex","ms-auto","my-3",3,"disabled"],["class","fas fa-spinner fa-spin my-auto me-3",4,"ngIf"],[1,"d-flex","justify-content-end"],["routerLink","/forgotPassword",1,"link-underline","cursor-pointer"],[1,"fas","fa-user-lock","me-2"],[1,"alert","alert-danger"],[4,"ngIf"],[1,"fas","fa-spinner","fa-spin","my-auto","me-3"]],template:function(o,t){if(1&o&&(n.TgZ(0,"section",0)(1,"h1"),n._uU(2,"Login Now :"),n.qZA(),n.TgZ(3,"form",1),n.NdJ("ngSubmit",function(){return t.handleForm()}),n.TgZ(4,"div")(5,"label",2),n._uU(6,"Email"),n.qZA(),n._UZ(7,"input",3,4),n.YNc(9,h,3,2,"div",5),n.qZA(),n.TgZ(10,"div")(11,"label",6),n._uU(12,"Password"),n.qZA(),n._UZ(13,"input",7,8),n.YNc(15,T,3,2,"div",5),n.qZA(),n.TgZ(16,"button",9),n.YNc(17,C,1,0,"i",10),n._uU(18," Login "),n.qZA(),n.TgZ(19,"div",11)(20,"a",12),n._UZ(21,"i",13),n._uU(22,"Forget Password "),n.qZA()(),n.YNc(23,A,3,1,"div",5),n.qZA()()),2&o){const p=n.MAs(8),x=n.MAs(14);let s,_;n.xp6(3),n.Q6J("formGroup",t.loginForm),n.xp6(6),n.Q6J("ngIf",(null==(s=t.loginForm.get("email"))?null:s.errors)&&((null==(s=t.loginForm.get("email"))?null:s.touched)||p.value.length>0)),n.xp6(6),n.Q6J("ngIf",(null==(_=t.loginForm.get("password"))?null:_.errors)&&((null==(_=t.loginForm.get("password"))?null:_.touched)||x.value.length>0)),n.xp6(1),n.Q6J("disabled",t.loginForm.invalid),n.xp6(1),n.Q6J("ngIf",t.isLoading),n.xp6(6),n.Q6J("ngIf",t.errMsg)}},dependencies:[m.ez,m.O5,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,u.rH],styles:[".alert[_ngcontent-%COMP%]{width:50%;display:flex;flex-direction:column;justify-content:center;align-items:center;margin:10px auto auto}.alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0!important}label[_ngcontent-%COMP%]{margin-top:10px}"]})}return e})()}}]);